import{u as S,i as r,j as y,k as E,m as O,n as G,l as R,d as F,o as U}from"./useThree.3ef42ea4.js";import{V as N}from"./VFixed.bc07aeec.js";import{u as c,_ as g}from"./useObjResManage.fa2ca442.js";import{B as A,e as J,aJ as L,as as k,k as I,$ as P,aR as $}from"./three.module.e25001cb.js";import{d as D,f as H,o as W,c as q,A as m,M as z,F as K,a as w,g as o,I as h,J as x}from"./index.3afbc751.js";const Q=w("div",{id:"three"},null,-1),X=w("div",{id:"stats"},null,-1),Y=x(" texture: "),Z=x(" geometry: "),ee=x(" map: "),ie=D({setup(ae){function f(){return{texture:"brick-wall.jpg",dds:"test-dxt1.dds",stone:"stone.jpg",plaster:"plaster.jpg",wc:"w_c.jpg"}}function b(){return{async specularMap(){const[a,s,i]=await r(["Earth.png","EarthNormal.png","EarthSpec.png"],"/three/textures/earth/");e.material=new k({map:a,normalMap:s,specularMap:i,normalScale:new I(6,6),shininess:10,specular:16776960})},async emissiveMap(){const[a,s,i]=await r(["lava.png","lava-normals.png","lava-smoothness.png"],"/three/textures/emissive/");e.material.emissiveMap=a,e.material.normalMap=s,e.material.metalnessMap=i,e.material.metalness=1,e.material.roughness=.05},async roughnessMap(){const[a]=await r(["roughness-map.jpg"],"/three/textures/");e.material.roughnessMap=a,e.material.metalness=1,e.material.roughness=.4},async metalnessMap(){const[a]=await r(["roughness-map.jpg"],"/three/textures/");e.material.metalnessMap=a,e.material.metalness=1,e.material.roughness=.04},async envMap(){const{cubeCamera:a}=y();e.material.envMap=a.renderTarget.texture,a.position.copy(e.position),e.material.metalness=1,e.material.roughness=.01,a.update(n.getRenderer(),n.getScene())},async displacementMap(){const[a,s]=await r(["w_c.jpg","w_d.png"],"/three/textures/");e.material.map=a,e.material.displacementMap=s},async bumpMap(){const[a,s]=await r(["stone.jpg","stone-map.png"],"/three/textures/");e.material.map=a,e.material.bumpMap=s},async normalMap(){const[a,s]=await r(["plaster.jpg","plaster-normal.jpg"],"/three/textures/");e.material.map=a,e.material.aoMap=s},async aoMap(){const[a]=await r(["ambient.png"],"/three/textures/");e.material.aoMap=a},async lightMap(){const[a]=await r(["lightmap.png"],"/three/textures/");e.material.lightMap=a},async alphaMap(){await this.map(),e.material.metalness=.02,e.material.roughness=.07,e.material.alphaTest=.5,e.material.side=P},async map(){e.material[p.value]=(await r([u[l.value]],"/three/textures/"))[0]}}}function v(){return{box:new A(15,15,15),sphere:new J(10,20,20),icosahedron:new L(10,0)}}async function _(){const t=await R("/three/models/baymax/Bigmax_White_OBJ.obj");t==null||t.scale.set(.1,.1,.1),t==null||t.position.set(0,0,30);const[a]=await r(["ambient.png"],"/three/models/baymax/");(t==null?void 0:t.children).filter(s=>s.name==="Head").forEach(s=>{s.material.aoMap=a}),t&&n.add(t)}function V(){const{cube:t,cubeCamera:a}=y();t.position.set(-30,20,0),a.position.copy(t.position),n.add(t);const s=n.getRenderer(),i=n.getScene();n.renderEffectStore.addEffects(()=>{a.update(s,i)})}async function j(){e=F(await T([u.texture]))(M.box),e.castShadow=!0,e.position.set(0,0,20),e.geometry.getAttribute("uv").set([.5,.5,.5],0),n.add(e)}let e;const n=S(),T=U("/three/textures/"),[l,u]=c(f(),async(t,a)=>{e.material.map=(await r([t],"/three/textures/",a!=null&&a.includes("dds")?"dds":"texture"))[0]},"texture"),[d,M]=c(v(),t=>{e.geometry=t},"box"),[p,B]=c(b(),async t=>{await t(),e.material.needsUpdate=!0},"map");async function C(){_(),V(),j(),n.add(new $(4473924)),n.add(E()),n.add(O()),n.setBackground(G("car")),n.mount(),n.loopRender()}return H(()=>{C()}),(t,a)=>(W(),q(K,null,[Q,X,m(N,{left:90,top:5},{default:z(()=>[Y,m(g,{options:o(u),modelValue:o(l),"onUpdate:modelValue":a[0]||(a[0]=s=>h(l)?l.value=s:null)},null,8,["options","modelValue"]),Z,m(g,{options:o(M),modelValue:o(d),"onUpdate:modelValue":a[1]||(a[1]=s=>h(d)?d.value=s:null)},null,8,["options","modelValue"]),ee,m(g,{options:o(B),modelValue:o(p),"onUpdate:modelValue":a[2]||(a[2]=s=>h(p)?p.value=s:null)},null,8,["options","modelValue"])]),_:1})],64))}});export{ie as default};
